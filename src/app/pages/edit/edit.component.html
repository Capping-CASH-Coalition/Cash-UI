<div class="row wrapper border-bottom white-bg page-heading">
   <div class="col-lg-1">
   </div>

   <div class="col-lg-10">
      <div class="ibox-content">
         <div class="feed-activity-list">
            
            <form [formGroup]="survey" novalidate (ngSubmit)="save(survey)">
            
               <div class="form-group">
                  <label>Survey Name</label>
                  <input type="text" class="form-control" formControlName="surveyName">
               </div>

               <!-- QUESTIONS -->
               <div formArrayName="questions">
                  <div *ngFor="let question of survey.controls.questions.controls; let i=index">
                        
                     <div [formGroupName]="i" class="feed-element" style="margin-bottom:10px">

                        <div class="row">
                           <div class="col-lg-3">
                              <div class="row">
                                 <div class="col-lg-12">
                                    <small class="text-muted">Answer Type</small>
                                 </div>
                              </div>
                              <div class="row">
                                 <div class="col-lg-12">
                                    <!--TYPE GO HERE-->
                                    <select formControlName="questionType" class="form-control form-control-sm" required>
                                       <option>Dropdown</option>
                                       <option>Radio Button</option>
                                       <option>Multi Select</option>
                                       <option>Text Input</option>
                                    </select>
                                 </div>
                              </div>
                           </div>
                           <div class="col-lg-9">
                              <button  class=' pull-right btn btn-lg' (click)='removeQuestion(i)' style='background-color:transparent;'> 
                                 <div>
                                    <i id="btnQuestionRemove" class="fa fa-times"></i>
                                 </div>
                              </button>
                           </div>
                        </div>

                        <div class="row" style="margin-top:10px">
                           <div class="col-lg-12">
                              <!--TEXT BOX GOES HERE-->      
                              <div class="form-group">
                                 <textarea formControlName="questionText" class="form-control" id="exampleTextarea" rows="2" placeholder="Enter Question Prompt Here..."></textarea>
                              </div>
                           </div>
                        </div>

                        <div class="row">
                           <div class="col-lg-1">
                           </div>
                           <div class="col-lg-8">
                              <!--OPTIONS GO HERE--> 
                              <div> <!-- SHOWING OPTIONS-->
                                 <div formArrayName="questionOptions" *ngFor="let option of survey.controls.questions.controls[i].questionOptions.controls; let j=index">
                                    <div [formGroupName]="j">
                                       <div class="form-group">
                                          <label>Options</label>
                                          <input type="text" class="form-control" placeholder="Enter Option" formControlName="option">
                                          <a *ngIf="questions.controls.questionOptions.length > 1" (click)="removeOption(question, j)">X</a>
                                       </div>
                                    </div>
                                    <a class="pull-right" *ngIf="j === question.controls.length-1" (click)="addOption(question)" style="float: right">Add Option +</a>
                                 </div>
                              </div>
                              
                           </div>
                           <div class="col-lg-3">
                              <button  class='pull-right btn btn-lg' 
                                       (click)='addQuestion(i)' 
                                       style='background-color:transparent;'>
                                 <div>
                                    <i id="btnQuestionAdd" class="fa fa-plus"></i>
                                 </div>
                              </button>
                           </div>
                        </div>
                     
                     
                     </div> <!--END OF FEED ELEMENT DIV-->


                  </div> <!--END OF nfFor DIV-->

               </div> <!--END OF Form Array for Questions Div-->
            
            </form>

         </div>
      </div>
    </div>










<!--
    <div class="col-lg-10">
       
      <div class="ibox-content">
         <div class="feed-activity-list">
            
            <div formArrayName="questions" *ngFor="let question of surveyForm.get('questions').controls; let i = index;">
               
               <div [formGroupName]="i">
                  <div class="feed-element" style="margin-bottom:10px">

                     <div class="row">
                        <div class="col-lg-3">
                           <div class="row">
                              <div class="col-lg-12">
                                 <small class="text-muted">Answer Type</small>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12">
                                 <select class="form-control form-control-sm" selected="selectedType" (change)="logDropdown($event.target.value)" required>
                                    <option>Dropdown</option>
                                    <option>Radio Button</option>
                                    <option>Multi Select</option>
                                    <option>Text Input</option>
                                 </select>
                              </div>
                           </div>
                        </div>
                        <div class="col-lg-9">
                           <button  class=' pull-right btn btn-lg'
                                    (click)='removeQuestion(i)'
                                    style='background-color:transparent;'> 
                              <div>
                                 <i id="btnQuestionRemove" class="fa fa-times"></i>
                              </div>
                           </button>
                        </div>
                     </div>

                     <div class="row" style="margin-top:10px">
                        <div class="col-lg-12">
                           <div class="form-group">
                                 <textarea   class="form-control" 
                                             id="exampleTextarea" 
                                             rows="2" 
                                             placeholder="Enter Question Prompt Here...">
                                 </textarea>
                           </div>
                        </div>
                     </div>

                     <div class="row">
                        <div class="col-lg-1">
                        </div>
<!--
                        <div class="col-lg-8">
                           <div *ngIf="textResponse === true">
                              <p class="font-italic">Text Input Response</p>
                           </div>
                           <div *ngIf="textResponse === false">
                              <div class="form-group" data-ng-repeat="option in options">


                              </div>
                           </div>
                        </div>
--> <!--

                        <div class="col-lg-3">
                           <button  class='pull-right btn btn-lg' 
                                    (click)='addQuestion(i)' 
                                    style='background-color:transparent;'>
                              <div>
                                 <i id="btnQuestionAdd" class="fa fa-plus"></i>
                              </div>
                           </button>
                        </div>
                     </div>        
                     
                  </div>
               </div>

            </div>
         </div>
      </div>

      <button  class='pull-right btn btn-lg' 
                                    (click)='logFormValue()' 
                                    style='background-color:transparent;'>
                              <div>
                                 <i class="fa fa-stop"></i>
                              </div>
                           </button>

    </div>
   -->


    <div class="col-lg-1">
    </div>
</div>



<!--

<div class="feed-element">
   <div>
      <button class=' pull-right btn btn-lg ' style='background-color:transparent;'>
         <div><i class="fa fa-times"></i></div>
      </button>
      <strong>Monica Smith</strong>
      <div>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum</div>
      <small class="text-muted">Today 5:60 pm - 12.06.2014</small>
   </div>
</div>


-->